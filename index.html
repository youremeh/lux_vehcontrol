<html>
  <head>
    <script src="nui://game/ui/jquery.js" type="text/javascript"></script>
    <script>
      let audioPlayer = null;
      window.addEventListener('message', ({ data }) => {
        if (data.transactionType === "playSound") {
          if (audioPlayer) {
            audioPlayer.pause();
            audioPlayer.currentTime = 0;
            audioPlayer = null;
          }
          audioPlayer = new Audio(`./sounds/${data.transactionFile}.ogg`);
          audioPlayer.volume = Math.min(Math.max(data.transactionVolume ?? 1, 0), 1);
          audioPlayer.play().catch(e => {});
        }
      });
    </script>
  </head>
</html>